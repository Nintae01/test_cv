/* Interactive variant CSS for cybersecurity theme */
@import url("../../../assets/css/style.css");

:root {
  --cyber-1: #22c55e;
  --cyber-2: #4ade80;
  --cyber-3: #16a34a;
}

body { cursor: none; background: linear-gradient(180deg, #0e1a2b 0%, #11243a 60%, #132a44 100%); }

/* Override theme vars for dark text-on-light conflict: force light text on darker bg */
html, :root, html.light {
  --text: #f5fbff;
  --muted: #c9d8ec;
  --bg: #0e1a2b;
  --bg-soft: #11243a;
}

/* Scanlines overlay (disabled for calm background) */
.scanlines { display: none; }

/* Neon grid overlay (disabled for calm background) */
.grid-overlay { display: none; }

/* Matrix rain (disabled for calm background) */
#matrixCanvas { display: none; }

/* Spotlight overlay that follows cursor â€“ lantern vibe (warm core, emerald rim)
   Position via CSS vars --x/--y set by JS to avoid transform conflicts. */
.spotlight { position: fixed; width: 280px; height: 280px; margin: -140px 0 0 -140px; left: 0; top: 0; pointer-events: none; z-index: 50; border-radius: 50%; background: radial-gradient(circle at center, rgba(251,191,36,0.35) 0%, rgba(251,191,36,0.25) 20%, rgba(34,197,94,0.20) 55%, rgba(34,197,94,0.06) 70%, rgba(0,0,0,0) 76%); mix-blend-mode: screen; filter: blur(2px) saturate(1.05); transform: translate(var(--x, 0px), var(--y, 0px)); will-change: transform, opacity; animation: lantern-flicker 3.5s ease-in-out infinite; }
@keyframes lantern-flicker { 0%, 100% { opacity: 0.92; } 50% { opacity: 1; } }

/* Glitch heading */
.mono { font-family: "Share Tech Mono", monospace; letter-spacing: 0.5px; }
.glitch { position: relative; display: inline-block; font-family: Poppins, Inter, sans-serif; font-weight: 800; font-size: clamp(42px, 8vw, 96px); letter-spacing: 2px; text-transform: uppercase; color: #e7ffe7; text-shadow: 0 0 12px rgba(34,197,94,0.6); }
.glitch::before, .glitch::after { content: attr(data-glitch); position: absolute; left: 0; top: 0; width: 100%; overflow: hidden; clip-path: inset(0 0 0 0); }
.glitch::before { color: #34d399; transform: translate(2px, -1px); mix-blend-mode: screen; animation: glitch1 2.5s infinite linear alternate-reverse; }
.glitch::after { color: #86efac; transform: translate(-2px, 1px); mix-blend-mode: screen; animation: glitch2 2.2s infinite linear alternate-reverse; }
@keyframes glitch1 { 0% { clip-path: inset(0 0 80% 0); } 20% { clip-path: inset(10% 0 60% 0); } 40% { clip-path: inset(20% 0 40% 0); } 60% { clip-path: inset(40% 0 20% 0); } 80% { clip-path: inset(60% 0 10% 0); } 100% { clip-path: inset(80% 0 0 0); } }
@keyframes glitch2 { 0% { clip-path: inset(80% 0 0 0); } 20% { clip-path: inset(60% 0 10% 0); } 40% { clip-path: inset(40% 0 20% 0); } 60% { clip-path: inset(20% 0 40% 0); } 80% { clip-path: inset(10% 0 60% 0); } 100% { clip-path: inset(0 0 80% 0); } }

/* Neon accent */
.neon { box-shadow: 0 0 30px rgba(34,197,94,0.25) inset, 0 0 40px rgba(34,197,94,0.25); }
.profile-card.neon { border-color: rgba(34,197,94,0.25); }

/* Custom cursor */
.cursor-dot, .cursor-ring { position: fixed; top: 0; left: 0; pointer-events: none; z-index: 100; }
.cursor-dot { width: 8px; height: 8px; border-radius: 50%; background: #f59e0b; transform: translate(-50%, -50%); box-shadow: 0 0 10px #f59e0b, 0 0 20px rgba(34,197,94,0.35); }
.cursor-ring { width: 36px; height: 36px; border-radius: 50%; border: 2px solid rgba(245,158,11,0.9); transform: translate(-50%, -50%); transition: width .2s ease, height .2s ease, border-color .2s ease, transform .06s linear; box-shadow: 0 0 24px rgba(245,158,11,0.45), 0 0 30px rgba(34,197,94,0.25); }
.cursor-ring.active { width: 54px; height: 54px; border-color: rgba(245,158,11,1); }

/* Magnetic */
.magnetic { position: relative; }
.magnetic:hover { filter: brightness(1.1) saturate(1.1); }

/* Buttons stronger neon */
.btn.primary { box-shadow: 0 10px 40px rgba(34,197,94,0.35); }
.btn:hover { box-shadow: 0 14px 50px rgba(34,197,94,0.45); }

/* Cards hover */
.card.project { transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease; }
.card.project:hover { transform: translateY(-6px); box-shadow: 0 20px 60px rgba(34,197,94,0.25); border-color: rgba(34,197,94,0.25); }

/* Navigation readability */
.site-nav a { color: #f1faee; }
.site-nav a:hover { color: #ffffff; }

/* Proximity glow (JS sets --intensity: 0..1) */
/* Default intensity 0 to avoid accidental glow */
.card.project, .btn, .site-nav a, .section-title, .profile-card, .tags span { --intensity: 0; }
.card.project, .profile-card { box-shadow: 0 10px 40px rgba(0,0,0,0.6), 0 0 calc(20px + 30px * var(--intensity)) rgba(34,197,94, calc(0.18 + 0.35 * var(--intensity))); border-color: color-mix(in srgb, var(--primary) calc(20% * var(--intensity)), var(--border)); }
.btn { box-shadow: 0 6px 24px rgba(0,0,0,0.5), 0 0 calc(12px + 18px * var(--intensity)) rgba(74,222,128, calc(0.18 + 0.3 * var(--intensity))); }
.section-title { text-shadow: 0 0 calc(6px + 12px * var(--intensity)) rgba(34,197,94, calc(0.2 + 0.5 * var(--intensity))); }
.site-nav a { position: relative; transition: transform .15s ease; text-shadow: 0 0 calc(4px + 10px * var(--intensity)) rgba(34,197,94, calc(0.15 + 0.5 * var(--intensity))); }
.site-nav a::after { content: ""; position: absolute; left: 0; bottom: -6px; height: 2px; width: 100%; background: linear-gradient(90deg, var(--cyber-3), var(--cyber-2)); transform: scaleX(calc(0.2 + 0.8 * var(--intensity))); transform-origin: left; transition: transform .12s ease; border-radius: 2px; opacity: calc(0.2 + 0.8 * var(--intensity)); }
.site-nav a:hover { --intensity: 1; }
.tags span { box-shadow: 0 0 calc(6px + 10px * var(--intensity)) rgba(34,197,94, calc(0.1 + 0.4 * var(--intensity))) inset; }

/* Parallax layers: calm cartoon mountains */
.parallax { position: fixed; inset: 0; pointer-events: none; z-index: 0; }
.parallax .layer { position: absolute; inset: auto; left: 0; right: 0; margin: 0 auto; will-change: transform; }
.layer--sky { top: 0; width: 100%; height: 100%; opacity: 1; filter: brightness(0.6) saturate(0.9); }
.layer--sun { top: 8%; left: 8%; width: 140px; height: 140px; opacity: 0.85; filter: brightness(0.9) saturate(1.1); }
.layer--clouds { top: 10%; width: 110%; left: -5%; opacity: 0.45; filter: brightness(0.9); }
.layer--mountains-far { bottom: 28%; width: 120%; left: -10%; opacity: 0.9; filter: brightness(0.8) saturate(0.9); }
.layer--mountains-mid { bottom: 18%; width: 130%; left: -15%; opacity: 0.95; filter: brightness(0.75) saturate(0.95); }
.layer--hills-near { bottom: 0; width: 140%; left: -20%; opacity: 1; filter: brightness(0.7) saturate(1); }

/* Ensure content is above background */
.site-header { z-index: 5; }
.hero { z-index: 4; }
main, .section { position: relative; z-index: 4; }

/* Vignette to darken edges (keeps center readable) */
.vignette { position: fixed; inset: 0; pointer-events: none; z-index: 2; background: radial-gradient(80% 70% at 50% 40%, rgba(0,0,0,0) 60%, rgba(0,0,0,0.28) 100%); }

/* Text panel for readability */
.text-panel { background: linear-gradient(180deg, rgba(10,18,28,0.55), rgba(10,18,28,0.45)); backdrop-filter: blur(8px); border: 1px solid rgba(255,255,255,0.08); border-radius: 14px; padding: 18px 20px; box-shadow: 0 14px 50px rgba(0,0,0,0.45); }
.text-panel .section-title, .text-panel h1, .text-panel h2, .text-panel h3, .text-panel p { text-shadow: 0 1px 1px rgba(0,0,0,0.5); }
.hero .text-panel { display: inline-block; max-width: min(680px, 95%); }

/* Ensure light text in sections */
.hero h1, .hero .subtitle, .section .section-title, .section p, .section li { color: #f7fbff; }
.section .section-title { letter-spacing: 0.5px; text-shadow: 0 2px 10px rgba(0,0,0,0.5); }

/* Side parallax elements */
.parallax .side { position: absolute; pointer-events: none; opacity: 0.9; filter: drop-shadow(0 20px 30px rgba(0,0,0,0.45)); left: auto; right: auto; margin: 0; }
.parallax .side.dim { opacity: 0.25; }
.parallax .side.hidden { opacity: 0; }
.layer--rock-left { left: -60px; bottom: -2vh; height: 68vh; z-index: 1; }
.layer--rock-right { right: -60px; bottom: -10vh; height: 56vh; z-index: 1; }
.layer--runes-left { left: 8px; top: 12vh; height: 60vh; opacity: 0.55; z-index: 2; }
.layer--runes-right { right: 8px; top: 16vh; height: 58vh; opacity: 0.5; transform: scaleX(-1); z-index: 2; }
.layer--sword-right { right: 4%; bottom: 12%; height: 46vh; opacity: 0.75; z-index: 3; }
.layer--shield-side { left: 6%; top: 24vh; height: 38vh; opacity: 0.7; z-index: 3; }
@media (max-width: 1280px) { .parallax .side { opacity: 0.6; } }
@media (max-width: 1024px) { .parallax .side { display: none; } }

/* Chapter storytelling card */
.chapter-card { position: fixed; right: 18px; top: 50%; transform: translateY(-50%); z-index: 100; width: 300px; max-width: 34vw; }
.chapter-card h3 { margin: 0 0 6px; color: #ffffff; }
.chapter-card p { margin: 0; color: var(--text); opacity: 0.95; }
@media (max-width: 1280px) { .chapter-card { display: none; } }

/* Top progress bar */
.progress-top { position: fixed; top: 0; left: 0; right: 0; height: 4px; background: rgba(255,255,255,0.05); z-index: 100; }
.progress-top .bar { display: block; height: 100%; width: 0%; background: linear-gradient(90deg, var(--primary), var(--primary-2)); box-shadow: 0 0 12px rgba(34,197,94,0.6); transition: width .08s linear; }

/* Left sticky rail */
.rail { position: fixed; left: 18px; top: 50%; transform: translateY(-50%); z-index: 100; }
.rail ul { list-style: none; padding: 0; margin: 0; display: grid; gap: 12px; }
.rail a { display: grid; grid-template-columns: 12px auto; align-items: center; gap: 8px; color: var(--muted); text-decoration: none; font-size: 12px; opacity: .85; transition: color .15s ease, opacity .15s ease; }
.rail .dot { width: 10px; height: 10px; border-radius: 50%; background: rgba(255,255,255,0.25); box-shadow: 0 0 0 2px rgba(255,255,255,0.12) inset; }
.rail a.active { color: var(--text); opacity: 1; }
.rail a.active .dot { background: var(--primary); box-shadow: 0 0 12px var(--glow); }
.rail .label { white-space: nowrap; }

@media (max-width: 1024px) { .rail { display: none; } }

/* Typing hero */
.typing { display: inline-flex; align-items: center; gap: 6px; min-height: 28px; }
.typing .caret { display: inline-block; width: 10px; color: var(--text); animation: blink 1s step-end infinite; }
@keyframes blink { 50% { opacity: 0; } }

/* Expandable project chapters */
.chapter { margin-top: 10px; border-top: 1px solid var(--border); padding-top: 10px; overflow: hidden; }
.chapter[hidden] { display: none; }
.card.project [data-expand][aria-expanded="true"] { background: linear-gradient(135deg, var(--primary), var(--primary-2)); color: #0b1220; border-color: transparent; }

/* Modals */
.modal { position: fixed; inset: 0; display: grid; place-items: center; background: rgba(0,0,0,0.5); backdrop-filter: blur(6px); z-index: 60; }
.modal[hidden] { display: none; }
.modal-dialog { width: min(560px, 92%); border: 1px solid var(--border); background: linear-gradient(180deg, var(--card), transparent), var(--bg-soft); border-radius: 18px; padding: 20px; box-shadow: 0 20px 80px rgba(0,0,0,0.6); }

/* Copy tag */
.copy-tag { margin-left: 8px; color: var(--primary); opacity: .9; font-size: 12px; padding: 2px 6px; border: 1px solid var(--border); border-radius: 8px; background: var(--card); }
.copy-status { color: var(--primary); margin-top: 8px; }

/* Adjust hero spacing for overlays */
.hero { position: relative; z-index: 2; }
.site-header { z-index: 3; }

/* Scroll-down pulse */
.scroll-down { animation: float 2.6s ease-in-out infinite; }
@keyframes float { 0%,100% { transform: translate(-50%, 0); } 50% { transform: translate(-50%, -6px); } }
